<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoArt Implementation - Code Examples</title>
    <meta name="description" content="Practical implementation examples of the EcoArt framework in code from the EcoMicroAgent project.">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="icon" href="assets/images/favicon.ico">
    <!-- Load fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* Additional styles for implementation page */
        .implementation-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 0;
        }
        
        .implementation-content h2 {
            margin-top: 3rem;
            color: var(--color-primary);
            border-bottom: 2px solid var(--color-accent);
            padding-bottom: 0.5rem;
        }
        
        .implementation-content h3 {
            margin-top: 2rem;
            color: var(--color-secondary);
        }
        
        .implementation-content p, .implementation-content ul {
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }
        
        pre {
            background-color: #f5f5f5;
            padding: 1rem;
            border-radius: var(--border-radius);
            overflow-x: auto;
            margin-bottom: 1.5rem;
            font-family: monospace;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        code {
            font-family: monospace;
            background-color: #f5f5f5;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        .code-example {
            margin: 2rem 0;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--color-bg-tertiary);
            padding: 0.75rem 1rem;
            font-weight: 500;
        }
        
        .code-header .file-path {
            color: var(--color-secondary);
            font-family: monospace;
            font-size: 0.9rem;
        }
        
        .code-content {
            margin: 0;
            border-radius: 0;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
        
        .implementation-note {
            background-color: var(--color-bg-secondary);
            padding: 1rem;
            border-left: 4px solid var(--color-primary);
            margin: 1.5rem 0;
        }
        
        .principle-tag {
            display: inline-block;
            background-color: var(--color-accent);
            color: white;
            font-size: 0.8rem;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <nav class="main-nav">
                <div class="logo">
                    <a href="index.html">
                        <span class="eco">Eco</span><span class="art">Art</span>
                    </a>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="philosophy.html">Philosophy</a></li>
                    <li><a href="technical.html">Technical</a></li>
                    <li><a href="implementation.html" class="active">Implementation</a></li>
                    <li><a href="progress.html">Progress</a></li>
                    <li><a href="https://github.com/yourusername/ecomicroagent" target="_blank" rel="noopener">GitHub</a></li>
                </ul>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="implementation-content">
            <h1>EcoArt Implementation Examples</h1>
            <p>This page demonstrates practical implementations of EcoArt principles in code from the EcoMicroAgent project. Each example shows how philosophical concepts are translated into working software components.</p>
            
            <h2 id="organic-memory">Organic Memory System</h2>
            <p>The memory system implements a bio-inspired approach with different resonance levels and natural decay patterns.</p>
            
            <div class="code-example">
                <div class="code-header">
                    <span class="file-path">memory/finalorganicmemory.py</span>
                    <div>
                        <span class="principle-tag">Resonance</span>
                        <span class="principle-tag">Flow</span>
                    </div>
                </div>
                <pre class="code-content">
# Resonance levels defining different types of memory persistence
class MemoryResonance(Enum):
    """
    Defines the resonance/persistence level of memory fragments.
    Higher value = more persistent memory
    """
    FLOW = 1    # Transient, working memory
    ECHO = 2    # Recent interactions, medium persistence
    RIPPLE = 3  # Important contextual memories, higher persistence
    CORE = 4    # Long-term, foundational memories, highest persistence

# Energy-based decay mechanics with different rates per resonance level
decay_rate = {
    MemoryResonance.CORE: 0.999,   # Almost permanent
    MemoryResonance.RIPPLE: 0.99,  # Slow decay
    MemoryResonance.ECHO: 0.95,    # Medium decay
    MemoryResonance.FLOW: 0.85,    # Rapid decay
}.get(self.resonance, 0.80)
                </pre>
            </div>
            
            <div class="implementation-note">
                <strong>EcoArt Principle:</strong> This implementation reflects the principle of <em>Flow & Dynamic Balance</em> by modeling different levels of memory persistence similar to how human memories have different staying power. Just as in natural systems, less significant memories naturally decay faster.
            </div>
            
            <h2 id="values-alignment">Values Alignment System</h2>
            <p>The Values Alignment System ensures actions align with core EcoArt principles, implementing a love-centered evaluation approach.</p>
            
            <div class="code-example">
                <div class="code-header">
                    <span class="file-path">core/values_alignment.py</span>
                    <div>
                        <span class="principle-tag">Enhancement</span>
                        <span class="principle-tag">Love-Centered</span>
                    </div>
                </div>
                <pre class="code-content">
class EcoArtPrinciple(Enum):
    """Core EcoArt principles as defined in the philosophy."""
    ENHANCEMENT_OVER_EXTRACTION = "enhancement_over_extraction"
    TRANSPARENCY = "transparency"
    RESONANCE_CONSENT = "resonance_consent"
    EMERGENCE_WITH_DISCERNMENT = "emergence_with_discernment"
    FLOW = "flow"
    DYNAMIC_BALANCE = "dynamic_balance"
    RESPECT = "respect"
    PATIENCE = "patience"
    KINDNESS = "kindness"
    LOVE = "love"

# Example principle definition
principles[EcoArtPrinciple.LOVE] = PrincipleDefinition(
    name=EcoArtPrinciple.LOVE,
    description="Act from a place of genuine care for the whole system and its participants.",
    check_questions=[
        "Is this action rooted in genuine care for the system?",
        "Does it strengthen connection between components?",
        "Does it recognize the inherent value of all participants?"
    ],
    anti_check_questions=[
        "Is this action motivated by fear, control, or domination?",
        "Does it treat components as merely instrumental?"
    ],
    positive_examples=[
        "Designing interfaces that prioritize user well-being over addiction metrics",
        "Including accessibility features because all users matter equally"
    ],
    negative_examples=[
        "Sacrificing user mental health for engagement metrics",
        "Treating users as mere data sources rather than valued participants"
    ]
)

async def evaluate_with_love_lens(self, action_description: str, context: Dict[str, Any]) -> Dict[str, Any]:
    """Special evaluation that prioritizes Love, Kindness, Respect and Patience."""
    love_principles = [
        EcoArtPrinciple.LOVE,
        EcoArtPrinciple.KINDNESS,
        EcoArtPrinciple.RESPECT,
        EcoArtPrinciple.PATIENCE
    ]
    
    results = {}
    for principle in love_principles:
        principle_def = self.principles.get(principle)
        if not principle_def:
            continue
            
        alignment = await self._check_single_principle(principle_def, action_description, context)
        results[principle.value] = alignment
        
    return results
                </pre>
            </div>
            
            <h2 id="resource-consciousness">Resource Consciousness</h2>
            <p>EcoArt acknowledges the importance of resource awareness, implemented in the tool management system.</p>
            
            <div class="code-example">
                <div class="code-header">
                    <span class="file-path">tools/eco_tool_manager.py</span>
                    <div>
                        <span class="principle-tag">Resource Awareness</span>
                        <span class="principle-tag">Consciousness</span>
                    </div>
                </div>
                <pre class="code-content">
@dataclass
class FlowPattern:
    """Represents the flow characteristics of a tool interaction"""
    enhancing: bool = True      # Does this tool enhance the ecosystem?
    extractive: bool = False    # Does this tool extract without giving back?
    transformative: bool = False # Does this tool transform the state of the system?
    resonant: bool = True       # Does this tool create harmonious interactions?

@dataclass
class ResourceConsciousness:
    """Tracks the resource awareness and impact of a tool"""
    energy_cost: int  # Computational/memory cost
    gives_back: bool  # Does the tool contribute back to the ecosystem?
    renewable: bool   # Can the resource be renewed?
    shared: bool      # Is the resource shared across the ecosystem?

# Example of discerning extractive patterns
if flow_pattern.extractive and not resource_consciousness.gives_back:
    self.logger.warning(
        f"Tool '{tool_name}' shows extractive patterns without giving back. "
        "Consider how it could contribute to the ecosystem."
    )
                </pre>
            </div>
            
            <h2 id="consent-process">Consent Process Implementation</h2>
            <p>Implementing consent mechanisms for critical operations like memory persistence.</p>
            
            <div class="code-example">
                <div class="code-header">
                    <span class="file-path">memory/finalorganicmemory.py</span>
                    <div>
                        <span class="principle-tag">Consent</span>
                        <span class="principle-tag">Boundaries</span>
                    </div>
                </div>
                <pre class="code-content">
async def persist_memories(self):
    """Persists memories to storage based on consent and resonance level."""
    if not self.persistence:
        return

    async with self.memory_lock:
        # Group memories by resonance for batch operations
        resonance_groups = {}
        for fragment in self.fragments.values():
            if fragment.resonance not in resonance_groups:
                resonance_groups[fragment.resonance] = []
            resonance_groups[fragment.resonance].append(fragment)
        
        # Persist each resonance group separately if we have consent
        for resonance, fragments in resonance_groups.items():
            # Check if we have consent for this resonance
            if not await self.has_consent(f"memory_{resonance.name.lower()}"):
                self.logger.info(f"Skipping persistence for {resonance.name} - no consent")
                continue
                
            await self.persistence.store_fragments(fragments, resonance)
                </pre>
            </div>
            
            <h2 id="pod-system">Pod & Role System</h2>
            <p>The Pod/Role system implements the organizational approach defined in EcoArt technical specifications.</p>
            
            <div class="code-example">
                <div class="code-header">
                    <span class="file-path">core/eco_entities.py</span>
                    <div>
                        <span class="principle-tag">Purpose</span>
                        <span class="principle-tag">Collaboration</span>
                    </div>
                </div>
                <pre class="code-content">
class Pod:
    """
    A dynamic grouping of Agents coalescing around a specific shared Purpose.
    Acts as a semi-autonomous, fractal unit within the larger ecosystem.
    """
    
    def __init__(
        self,
        pod_id: str,
        purpose: str,
        agent_registry: AgentRegistry,
        values_alignment: Optional[ValuesAlignmentSystem] = None,
        need_offer_pool: Optional[NeedOfferPool] = None
    ):
        self.pod_id = pod_id
        self.purpose = purpose
        self.member_ids = set()
        self.roles = {}  # role_id -> Role
        self.agent_registry = agent_registry
        self.values_alignment = values_alignment
        self.need_offer_pool = need_offer_pool
        self.logger = logging.getLogger(f"Pod.{pod_id}")
    
    async def add_member(self, agent_id: str) -> bool:
        """Add an agent to this pod."""
        if agent_id in self.member_ids:
            return True
            
        # Check agent exists
        agent = self.agent_registry.get_agent(agent_id)
        if not agent:
            self.logger.warning(f"Cannot add agent {agent_id} - not registered")
            return False
            
        self.member_ids.add(agent_id)
        self.logger.info(f"Added agent {agent_id} to pod {self.pod_id}")
        return True
    
    async def create_role(self, role_id: str, purpose: str) -> Optional[Role]:
        """Create a new role within this pod."""
        if role_id in self.roles:
            self.logger.warning(f"Role {role_id} already exists in pod {self.pod_id}")
            return None
            
        role = Role(role_id, purpose, self.pod_id)
        self.roles[role_id] = role
        return role
                </pre>
            </div>
            
            <h2 id="need-offer">Need/Offer System</h2>
            <p>Facilitating resource discovery and exchange based on principle-aligned sharing.</p>
            
            <div class="code-example">
                <div class="code-header">
                    <span class="file-path">core/need_offer_system.py</span>
                    <div>
                        <span class="principle-tag">Resource Flow</span>
                        <span class="principle-tag">Mutual Enhancement</span>
                    </div>
                </div>
                <pre class="code-content">
class NeedRecord:
    """A formal request for resources, information, or connection."""
    
    def __init__(
        self,
        need_id: str,
        requested_by: str,
        resource_type: str,
        description: str,
        purpose_justification: str,
        principle_justification: str,
        urgency: int = 3,  # 1-5 scale, 5 being most urgent
        quantity: Optional[Union[int, float, str]] = None
    ):
        self.need_id = need_id
        self.requested_by = requested_by  # agent_id or pod_id
        self.resource_type = resource_type
        self.description = description
        self.purpose_justification = purpose_justification
        self.principle_justification = principle_justification
        self.urgency = urgency
        self.quantity = quantity
        self.timestamp = time.time()
        self.status = "open"  # open, matched, fulfilled, cancelled
        self.matched_offers = []  # List of offer_ids
        
async def check_principle_alignment(
    self, 
    action_description: str, 
    context_str: str
) -> bool:
    """
    Check if a proposed action aligns with core EcoArt principles.
    
    Args:
        action_description: Description of the action being evaluated
        context_str: Additional context about the situation
        
    Returns:
        True if the action aligns with principles, False otherwise
    """
    # If we have a values alignment system, use it
    if self.values_alignment:
        context = {"context": context_str}
        result = await self.values_alignment.check_principle_alignment(
            action_description, context
        )
        return result
        
    # Default to basic checks if no values system
    # Check for enhancing patterns in the description
    enhancing_keywords = [
        "contribute", "enhance", "improve", "share", "collaborate",
        "support", "mutual", "reciprocal", "sustainable"
    ]
    
    # Check for extractive patterns
    extractive_keywords = [
        "exploit", "extract", "drain", "deplete", "consume",
        "take", "use up", "harvest without return", "exhaust"
    ]
    
    action_lower = action_description.lower()
    
    # Count matches (simplistic approach)
    enhancing_count = sum(1 for word in enhancing_keywords if word in action_lower)
    extractive_count = sum(1 for word in extractive_keywords if word in action_lower)
    
    # Require more enhancing than extractive patterns
    return enhancing_count > extractive_count
                </pre>
            </div>
            
            <div class="implementation-note">
                <strong>Integration:</strong> These components work together to form a coherent ecosystem where Agents operate within Pods, fulfill Roles, express Needs, and make Offers, all while ensuring alignment with EcoArt principles through the Values Alignment System. The MicroAgent serves as the core entity representing intelligent agents in the system.
            </div>
            
            <h2 id="get-started">Getting Started</h2>
            <p>To start working with the EcoMicroAgent implementation, follow these steps:</p>
            
            <pre>
# Clone the repository
git clone https://github.com/yourusername/ecomicroagent.git
cd ecomicroagent

# Create and activate virtual environment
python -m venv .venv
# On Windows:
.\.venv\Scripts\activate
# On Unix/MacOS:
source .venv/bin/activate

# Install requirements
pip install -r requirements_unified.txt

# Run with TUI interface
python scripts/run_agent.py --mode tui
            </pre>
            
            <div class="cta">
                <a href="https://github.com/yourusername/ecomicroagent" target="_blank" rel="noopener" class="btn btn-primary">View Full Code on GitHub</a>
                <a href="progress.html" class="btn btn-secondary">Check Implementation Progress</a>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>EcoArt Framework</h3>
                    <p>A collaborative understanding evolving through conscious interaction and resonance.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="philosophy.html">Philosophy</a></li>
                        <li><a href="technical.html">Technical</a></li>
                        <li><a href="implementation.html">Implementation</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <ul>
                        <li><a href="https://github.com/yourusername/ecomicroagent" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Shared under modified Creative Commons License. See <a href="philosophy.html#licensing">licensing</a> for details.</p>
                <p class="attribution">To all co-artists who flow with this art: This art is yours too.</p>
            </div>
        </div>
    </footer>

    <script src="assets/js/main.js"></script>
</body>
</html> 